const N={};function M(n,r){const t=r||N,e=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return E(n,e,i)}function E(n,r,t){if(O(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(r&&"alt"in n&&n.alt)return n.alt;if("children"in n)return b(n.children,r,t)}return Array.isArray(n)?b(n,r,t):""}function b(n,r,t){const e=[];let i=-1;for(;++i<n.length;)e[i]=E(n[i],r,t);return e.join("")}function O(n){return!!(n&&typeof n=="object")}const w=document.createElement("i");function S(n){const r="&"+n+";";w.innerHTML=r;const t=w.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}function k(n,r){const t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCharCode(t)}const I=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function U(n){return n.replace(I,P)}function P(n,r,t){if(r)return r;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),c=i===120||i===88;return k(t.slice(c?2:1),c?16:10)}return S(t)||n}function X(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?x(n.position):"start"in n||"end"in n?x(n):"line"in n||"column"in n?p(n):""}function p(n){return A(n&&n.line)+":"+A(n&&n.column)}function x(n){return p(n&&n.start)+"-"+p(n&&n.end)}function A(n){return n&&typeof n=="number"?n:1}const C={}.hasOwnProperty;function q(n,r){const t=r||{};function e(i,...c){let f=e.invalid;const o=e.handlers;if(i&&C.call(i,n)){const y=String(i[n]);f=C.call(o,y)?o[y]:e.unknown}if(f)return f.call(this,i,...c)}return e.handlers=t.handlers||{},e.invalid=t.invalid,e.unknown=t.unknown,e}const F=function(n){if(n==null)return T;if(typeof n=="string")return B(n);if(typeof n=="object")return Array.isArray(n)?R(n):z(n);if(typeof n=="function")return h(n);throw new Error("Expected function, string, or object as test")};function R(n){const r=[];let t=-1;for(;++t<n.length;)r[t]=F(n[t]);return h(e);function e(...i){let c=-1;for(;++c<r.length;)if(r[c].call(this,...i))return!0;return!1}}function z(n){return h(r);function r(t){let e;for(e in n)if(t[e]!==n[e])return!1;return!0}}function B(n){return h(r);function r(t){return t&&t.type===n}}function h(n){return r;function r(t,...e){return!!(t&&typeof t=="object"&&"type"in t&&n.call(this,t,...e))}}function T(){return!0}const H=!0,j=!1,D="skip",K=function(n,r,t,e){typeof r=="function"&&typeof t!="function"&&(e=t,t=r,r=null);const i=F(r),c=e?-1:1;f(n,void 0,[])();function f(o,y,d){const l=o&&typeof o=="object"?o:{};if(typeof l.type=="string"){const u=typeof l.tagName=="string"?l.tagName:typeof l.name=="string"?l.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(o.type+(u?"<"+u+">":""))+")"})}return g;function g(){let u=[],s,a,m;if((!r||i(o,y,d[d.length-1]||null))&&(u=L(t(o,d)),u[0]===j))return u;if(o.children&&u[0]!==D)for(a=(e?o.children.length:-1)+c,m=d.concat(o);a>-1&&a<o.children.length;){if(s=f(o.children[a],a,m)(),s[0]===j)return s;a=typeof s[1]=="number"?s[1]:a+c}return u}}};function L(n){return Array.isArray(n)?n:typeof n=="number"?[H,n]:[n]}const G=function(n,r,t,e){typeof r=="function"&&typeof t!="function"&&(e=t,t=r,r=null),K(n,r,i,e);function i(c,f){const o=f[f.length-1];return t(c,o?o.children.indexOf(c):null,o)}};export{j as E,D as S,U as a,k as b,F as c,S as d,X as s,M as t,G as v,q as z};
